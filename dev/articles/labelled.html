<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to labelled • labelled</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to labelled">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">labelled</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.13.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/labelled.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/look_for.html">Generate a data dictionary and search for variables with `look_for()`</a></li>
    <li><a class="dropdown-item" href="../articles/missing_values.html">About missing values: regular NAs, tagged NAs and user NAs</a></li>
    <li><a class="dropdown-item" href="../articles/packed_columns.html">Variables labels and packed columns</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/larmarange/labelled/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Introduction to labelled</h1>
                        <h4 data-toc-skip class="author">Joseph
Larmarange</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/larmarange/labelled/blob/main/vignettes/labelled.Rmd" class="external-link"><code>vignettes/labelled.Rmd</code></a></small>
      <div class="d-none name"><code>labelled.Rmd</code></div>
    </div>

    
    
<p>The purpose of the <strong>labelled</strong> package is to provide
functions to manipulate metadata as variable labels, value labels and
defined missing values using the <code>haven_labelled</code> and
<code>haven_labelled_spss</code> classes introduced in
<code>haven</code> package.</p>
<p>These classes allow to add metadata (variable, value labels and
SPSS-style missing values) to vectors.</p>
<p>It should be noted that <strong>value labels</strong> doesn’t imply
that your vectors should be considered as categorical or continuous.
Therefore, value labels are not intended to be use for data analysis.
For example, before performing modeling, you should convert vectors with
value labels into factors or into classic numeric/character vectors.</p>
<p>Therefore, two main approaches could be considered.</p>
<div class="float">
<img src="approaches.png" style="width:100.0%" alt="Two main approaches"><div class="figcaption">Two main approaches</div>
</div>
<p>In <strong>approach A</strong>, <code>haven_labelled</code> vectors
are converted into factors or into numeric/character vectors just after
data import, using <code><a href="../reference/to_factor.html">unlabelled()</a></code>, <code><a href="../reference/to_factor.html">to_factor()</a></code>
or <code><a href="https://rdrr.io/r/base/class.html" class="external-link">unclass()</a></code>. Then, data cleaning, recoding and analysis
are performed using classic <strong>R</strong> vector types.</p>
<p>In <strong>approach B</strong>, <code>haven_labelled</code> vectors
are kept for data cleaning and coding, allowing to preserved original
recoding, in particular if data should be reexported after that step.
Functions provided by <code>labelled</code> will be useful for managing
value labels. However, as in approach A, <code>haven_labelled</code>
vectors will have to be converted into classic factors or numeric
vectors before data analysis (in particular modeling) as this is the way
categorical and continuous variables should be coded for analysis
functions.</p>
<div class="section level2">
<h2 id="variable-labels">Variable labels<a class="anchor" aria-label="anchor" href="#variable-labels"></a>
</h2>
<p>A variable label could be specified for any vector using
<code><a href="../reference/var_label.html">var_label()</a></code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://larmarange.github.io/labelled/">labelled</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Error in get(paste0(generic, ".", class), envir = get_method_env()) : </span></span>
<span><span class="co">##   object 'type_sum.accel' not found</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/var_label.html">var_label</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Length of sepal"</span></span></code></pre></div>
<p>It’s possible to add a variable label to several columns of a data
frame using a named list.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/var_label.html">var_label</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  Petal.Length <span class="op">=</span> <span class="st">"Length of petal"</span>,</span>
<span>  Petal.Width <span class="op">=</span> <span class="st">"Width of Petal"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>To get the variable label, simply call <code><a href="../reference/var_label.html">var_label()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/var_label.html">var_label</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Petal.Width</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Width of Petal"</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/var_label.html">var_label</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $Sepal.Length</span></span>
<span><span class="co">## [1] "Length of sepal"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Sepal.Width</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Petal.Length</span></span>
<span><span class="co">## [1] "Length of petal"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Petal.Width</span></span>
<span><span class="co">## [1] "Width of Petal"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $Species</span></span>
<span><span class="co">## NULL</span></span></code></pre>
<p>To remove a variable label, use <code>NULL</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/var_label.html">var_label</a></span><span class="op">(</span><span class="va">iris</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
<p>In <strong>RStudio</strong>, variable labels will be displayed in
data viewer.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span></code></pre></div>
<p>You can display and search through variable names and labels with
<code><a href="../reference/look_for.html">look_for()</a></code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/look_for.html">look_for</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  pos variable     label           col_type missing values    </span></span>
<span><span class="co">##  1   Sepal.Length —               dbl      0                 </span></span>
<span><span class="co">##  2   Sepal.Width  —               dbl      0                 </span></span>
<span><span class="co">##  3   Petal.Length Length of petal dbl      0                 </span></span>
<span><span class="co">##  4   Petal.Width  Width of Petal  dbl      0                 </span></span>
<span><span class="co">##  5   Species      —               fct      0       setosa    </span></span>
<span><span class="co">##                                                    versicolor</span></span>
<span><span class="co">##                                                    virginica</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/look_for.html">look_for</a></span><span class="op">(</span><span class="va">iris</span>, <span class="st">"pet"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  pos variable     label           col_type missing values</span></span>
<span><span class="co">##  3   Petal.Length Length of petal dbl      0             </span></span>
<span><span class="co">##  4   Petal.Width  Width of Petal  dbl      0</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/look_for.html">look_for</a></span><span class="op">(</span><span class="va">iris</span>, details <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  pos variable     label          </span></span>
<span><span class="co">##  1   Sepal.Length —              </span></span>
<span><span class="co">##  2   Sepal.Width  —              </span></span>
<span><span class="co">##  3   Petal.Length Length of petal</span></span>
<span><span class="co">##  4   Petal.Width  Width of Petal </span></span>
<span><span class="co">##  5   Species      —</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="value-labels">Value labels<a class="anchor" aria-label="anchor" href="#value-labels"></a>
</h2>
<p>The first way to create a labelled vector is to use the
<code><a href="https://haven.tidyverse.org/reference/labelled.html" class="external-link">labelled()</a></code> function. It’s not mandatory to provide a label
for each value observed in your vector. You can also provide a label for
values not observed.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled.html" class="external-link">labelled</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">9</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>yes <span class="op">=</span> <span class="fl">1</span>, no <span class="op">=</span> <span class="fl">3</span>, <span class="st">"don't know"</span> <span class="op">=</span> <span class="fl">8</span>, refused <span class="op">=</span> <span class="fl">9</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        yes</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      8 don't know</span></span>
<span><span class="co">##      9    refused</span></span></code></pre>
<p>Use <code><a href="../reference/val_labels.html">val_labels()</a></code> to get all value labels and
<code><a href="../reference/val_labels.html">val_label()</a></code> to get the value label associated with a
specific value.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/val_labels.html">val_labels</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##        yes         no don't know    refused </span></span>
<span><span class="co">##          1          3          8          9</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">v</span>, <span class="fl">8</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "don't know"</span></span></code></pre>
<p><code><a href="../reference/val_labels.html">val_labels()</a></code> could also be used to modify all the value
labels attached to a vector, while <code><a href="../reference/val_labels.html">val_label()</a></code> will update
only one specific value label.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/val_labels.html">val_labels</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>yes <span class="op">=</span> <span class="fl">1</span>, nno <span class="op">=</span> <span class="fl">3</span>, bug <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1   yes</span></span>
<span><span class="co">##      3   nno</span></span>
<span><span class="co">##      5   bug</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">v</span>, <span class="fl">3</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"no"</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1   yes</span></span>
<span><span class="co">##      3    no</span></span>
<span><span class="co">##      5   bug</span></span></code></pre>
<p>With <code><a href="../reference/val_labels.html">val_label()</a></code>, you can also add or remove specific
value labels.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">v</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"maybe"</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">v</span>, <span class="fl">5</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1   yes</span></span>
<span><span class="co">##      3    no</span></span>
<span><span class="co">##      2 maybe</span></span></code></pre>
<p>To remove all value labels, use <code><a href="../reference/val_labels.html">val_labels()</a></code> and
<code>NULL</code>. The <code>haven_labelled</code> class will also be
removed.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/val_labels.html">val_labels</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span></code></pre>
<p>Adding a value label to a non labelled vector will apply
<code>haven_labelled</code> class to it.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">v</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"yes"</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1   yes</span></span></code></pre>
<p>Note that applying <code><a href="../reference/val_labels.html">val_labels()</a></code> to a factor will
generate an error!</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">f</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 2 3</span></span>
<span><span class="co">## Levels: 1 2 3</span></span></code></pre>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/val_labels.html">val_labels</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>yes <span class="op">=</span> <span class="fl">1</span>, no <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `val_labels&lt;-`:</span></span></span>
<span><span class="co">## <span style="color: #BBBB00;">!</span> Value labels cannot be applied to factors.</span></span></code></pre>
<p>You could also apply <code><a href="../reference/val_labels.html">val_labels()</a></code> to several columns of
a data frame.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>v1 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, v2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span>, v3 <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">df</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"yes"</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"v1"</span>, <span class="st">"v3"</span><span class="op">)</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"maybe"</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"v2"</span>, <span class="st">"v3"</span><span class="op">)</span><span class="op">]</span>, <span class="fl">3</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"no"</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_labels</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $v1</span></span>
<span><span class="co">##   yes maybe </span></span>
<span><span class="co">##     1     2 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $v2</span></span>
<span><span class="co">## yes  no </span></span>
<span><span class="co">##   1   3 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $v3</span></span>
<span><span class="co">##   yes maybe    no </span></span>
<span><span class="co">##     1     2     3</span></span></code></pre>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/val_labels.html">val_labels</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"v1"</span>, <span class="st">"v3"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>YES <span class="op">=</span> <span class="fl">1</span>, MAYBE <span class="op">=</span> <span class="fl">2</span>, NO <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_labels</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $v1</span></span>
<span><span class="co">##   YES MAYBE    NO </span></span>
<span><span class="co">##     1     2     3 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $v2</span></span>
<span><span class="co">## yes  no </span></span>
<span><span class="co">##   1   3 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $v3</span></span>
<span><span class="co">##   YES MAYBE    NO </span></span>
<span><span class="co">##     1     2     3</span></span></code></pre>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/val_labels.html">val_labels</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_labels</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $v1</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $v2</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $v3</span></span>
<span><span class="co">## NULL</span></span></code></pre>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/val_labels.html">val_labels</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>v1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>yes <span class="op">=</span> <span class="fl">1</span>, no <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>, v2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">2</span>, c <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_labels</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $v1</span></span>
<span><span class="co">## yes  no </span></span>
<span><span class="co">##   1   3 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $v2</span></span>
<span><span class="co">## a b c </span></span>
<span><span class="co">## 1 2 3 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $v3</span></span>
<span><span class="co">## NULL</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="sorting-value-labels">Sorting value labels<a class="anchor" aria-label="anchor" href="#sorting-value-labels"></a>
</h2>
<p>Value labels are sorted by default in the order they have been
created.</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">9</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">v</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"yes"</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">v</span>, <span class="fl">3</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"no"</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">v</span>, <span class="fl">9</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"refused"</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">v</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"maybe"</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_label</a></span><span class="op">(</span><span class="va">v</span>, <span class="fl">8</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"don't know"</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        yes</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      9    refused</span></span>
<span><span class="co">##      2      maybe</span></span>
<span><span class="co">##      8 don't know</span></span></code></pre>
<p>It could be useful to reorder the value labels according to their
attached values, with <code><a href="../reference/sort_val_labels.html">sort_val_labels()</a></code>.</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sort_val_labels.html">sort_val_labels</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        yes</span></span>
<span><span class="co">##      2      maybe</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      8 don't know</span></span>
<span><span class="co">##      9    refused</span></span></code></pre>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sort_val_labels.html">sort_val_labels</a></span><span class="op">(</span><span class="va">v</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      9    refused</span></span>
<span><span class="co">##      8 don't know</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      2      maybe</span></span>
<span><span class="co">##      1        yes</span></span></code></pre>
<p>If you prefer, you can also sort them according to the labels.</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sort_val_labels.html">sort_val_labels</a></span><span class="op">(</span><span class="va">v</span>, according_to <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      8 don't know</span></span>
<span><span class="co">##      2      maybe</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      9    refused</span></span>
<span><span class="co">##      1        yes</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="user-defined-missing-values-spsss-style">User defined missing values (SPSS’s style)<a class="anchor" aria-label="anchor" href="#user-defined-missing-values-spsss-style"></a>
</h2>
<p><code>haven</code> (&gt;= 2.0.0) introduced an additional
<code>haven_labelled_spss</code> class to deal with user defined missing
values. In such case, additional attributes will be used to indicate
with values should be considered as missing, but such values will not be
stored as internal <code>NA</code> values. You should note that most R
function will not take this information into account. Therefore, you
will have to convert missing values into <code>NA</code> if required
before analysis. These defined missing values could co-exist with
internal <code>NA</code> values.</p>
<p>It is possible to manipulate this missing values with
<code><a href="../reference/na_values.html">na_values()</a></code> and <code><a href="../reference/na_values.html">na_range()</a></code>. Note that
<code><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na()</a></code> will return <code>TRUE</code> as well for
user-defined missing values.</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled.html" class="external-link">labelled</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">9</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>yes <span class="op">=</span> <span class="fl">1</span>, no <span class="op">=</span> <span class="fl">3</span>, <span class="st">"don't know"</span> <span class="op">=</span> <span class="fl">9</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        yes</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      9 don't know</span></span></code></pre>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/na_values.html">na_values</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">9</span></span>
<span><span class="fu"><a href="../reference/na_values.html">na_values</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 9</span></span></code></pre>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled_spss&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## Missing values: 9</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        yes</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      9 don't know</span></span></code></pre>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE</span></span></code></pre>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/na_values.html">na_values</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        yes</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      9 don't know</span></span></code></pre>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/na_values.html">na_range</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/na_values.html">na_range</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1]   5 Inf</span></span></code></pre>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled_spss&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## Missing range:  [5, Inf]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        yes</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      9 don't know</span></span></code></pre>
<p>Since version 2.1.0, it is not mandatory to define at least one value
label before defining missing values.</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">9</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/na_values.html">na_values</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">9</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled_spss&lt;double&gt;[4]&gt;</span></span>
<span><span class="co">## [1] 1 2 2 9</span></span>
<span><span class="co">## Missing values: 9</span></span></code></pre>
<p>To convert user defined missing values into <code>NA</code>, simply
use <code><a href="../reference/na_values.html">user_na_to_na()</a></code>.</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled_spss.html" class="external-link">labelled_spss</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>Good <span class="op">=</span> <span class="fl">1</span>, Bad <span class="op">=</span> <span class="fl">8</span><span class="op">)</span>, na_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled_spss&lt;integer&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="co">## Missing values: 9, 10</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1  Good</span></span>
<span><span class="co">##      8   Bad</span></span></code></pre>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/na_values.html">user_na_to_na</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span>
<span><span class="va">v2</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;integer&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  3  4  5  6  7  8 NA NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1  Good</span></span>
<span><span class="co">##      8   Bad</span></span></code></pre>
<p>You can also remove user missing values definition without converting
these values to <code>NA</code>.</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled_spss.html" class="external-link">labelled_spss</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>Good <span class="op">=</span> <span class="fl">1</span>, Bad <span class="op">=</span> <span class="fl">8</span><span class="op">)</span>, na_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled_spss&lt;integer&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="co">## Missing values: 9, 10</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1  Good</span></span>
<span><span class="co">##      8   Bad</span></span></code></pre>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/remove_labels.html">remove_user_na</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span>
<span><span class="va">v2</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;integer&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1  Good</span></span>
<span><span class="co">##      8   Bad</span></span></code></pre>
<p>or</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled_spss.html" class="external-link">labelled_spss</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>Good <span class="op">=</span> <span class="fl">1</span>, Bad <span class="op">=</span> <span class="fl">8</span><span class="op">)</span>, na_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled_spss&lt;integer&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="co">## Missing values: 9, 10</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1  Good</span></span>
<span><span class="co">##      8   Bad</span></span></code></pre>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/na_values.html">na_values</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;integer&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1  Good</span></span>
<span><span class="co">##      8   Bad</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="other-conversion-to-na">Other conversion to NA<a class="anchor" aria-label="anchor" href="#other-conversion-to-na"></a>
</h2>
<p>In some cases, values who don’t have an attached value label could be
considered as missing. <code><a href="../reference/nolabel_to_na.html">nolabel_to_na()</a></code> will convert them to
<code>NA</code>.</p>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled.html" class="external-link">labelled</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">9</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>yes <span class="op">=</span> <span class="fl">1</span>, maybe <span class="op">=</span> <span class="fl">2</span>, no <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1   yes</span></span>
<span><span class="co">##      2 maybe</span></span>
<span><span class="co">##      3    no</span></span></code></pre>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/nolabel_to_na.html">nolabel_to_na</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3 NA  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1   yes</span></span>
<span><span class="co">##      2 maybe</span></span>
<span><span class="co">##      3    no</span></span></code></pre>
<p>In other cases, a value label is attached only to specific values
that corresponds to a missing value. For example:</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">size</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled.html" class="external-link">labelled</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.88</span>, <span class="fl">1.62</span>, <span class="fl">1.78</span>, <span class="fl">99</span>, <span class="fl">1.91</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"not measured"</span> <span class="op">=</span> <span class="fl">99</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">size</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[5]&gt;</span></span>
<span><span class="co">## [1]  1.88  1.62  1.78 99.00  1.91</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value        label</span></span>
<span><span class="co">##     99 not measured</span></span></code></pre>
<p>In such cases, <code><a href="../reference/val_labels_to_na.html">val_labels_to_na()</a></code> could be
appropriate.</p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/val_labels_to_na.html">val_labels_to_na</a></span><span class="op">(</span><span class="va">size</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1.88 1.62 1.78   NA 1.91</span></span></code></pre>
<p>These two functions could also be applied to an overall data frame.
Only labelled vectors will be impacted.</p>
</div>
<div class="section level2">
<h2 id="converting-to-factor">Converting to factor<a class="anchor" aria-label="anchor" href="#converting-to-factor"></a>
</h2>
<p>A labelled vector could easily be converted to a factor with
<code><a href="../reference/to_factor.html">to_factor()</a></code>.</p>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled.html" class="external-link">labelled</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">9</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>yes <span class="op">=</span> <span class="fl">1</span>, no <span class="op">=</span> <span class="fl">3</span>, <span class="st">"don't know"</span> <span class="op">=</span> <span class="fl">8</span>, refused <span class="op">=</span> <span class="fl">9</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        yes</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      8 don't know</span></span>
<span><span class="co">##      9    refused</span></span></code></pre>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_factor.html">to_factor</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] yes     2       2       2       no      refused yes     no      2      </span></span>
<span><span class="co">## [10] &lt;NA&gt;   </span></span>
<span><span class="co">## Levels: yes 2 no don't know refused</span></span></code></pre>
<p>The <code>levels</code> argument allows to specify what should be
used as the factor levels, i.e. the labels (default), the values or the
labels prefixed with values.</p>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_factor.html">to_factor</a></span><span class="op">(</span><span class="va">v</span>, levels <span class="op">=</span> <span class="st">"v"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] 1    2    2    2    3    9    1    3    2    &lt;NA&gt;</span></span>
<span><span class="co">## Levels: 1 2 3 8 9</span></span></code></pre>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_factor.html">to_factor</a></span><span class="op">(</span><span class="va">v</span>, levels <span class="op">=</span> <span class="st">"p"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] [1] yes     [2] 2       [2] 2       [2] 2       [3] no      [9] refused</span></span>
<span><span class="co">##  [7] [1] yes     [3] no      [2] 2       &lt;NA&gt;       </span></span>
<span><span class="co">## Levels: [1] yes [2] 2 [3] no [8] don't know [9] refused</span></span></code></pre>
<p>The <code>ordered</code> argument will create an ordinal factor.</p>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_factor.html">to_factor</a></span><span class="op">(</span><span class="va">v</span>, ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] yes     2       2       2       no      refused yes     no      2      </span></span>
<span><span class="co">## [10] &lt;NA&gt;   </span></span>
<span><span class="co">## Levels: yes &lt; 2 &lt; no &lt; don't know &lt; refused</span></span></code></pre>
<p>The argument <code>nolabel_to_na</code> specify if the corresponding
function should be applied before converting to a factor. Therefore, the
two following commands are equivalent.</p>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_factor.html">to_factor</a></span><span class="op">(</span><span class="va">v</span>, nolabel_to_na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] yes     &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    no      refused yes     no      &lt;NA&gt;   </span></span>
<span><span class="co">## [10] &lt;NA&gt;   </span></span>
<span><span class="co">## Levels: yes no don't know refused</span></span></code></pre>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_factor.html">to_factor</a></span><span class="op">(</span><span class="fu"><a href="../reference/nolabel_to_na.html">nolabel_to_na</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] yes     &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    no      refused yes     no      &lt;NA&gt;   </span></span>
<span><span class="co">## [10] &lt;NA&gt;   </span></span>
<span><span class="co">## Levels: yes no don't know refused</span></span></code></pre>
<p><code>sort_levels</code> specifies how the levels should be sorted:
<code>"none"</code> to keep the order in which value labels have been
defined, <code>"values"</code> to order the levels according to the
values and <code>"labels"</code> according to the labels.
<code>"auto"</code> (default) will be equivalent to <code>"none"</code>
except if some values with no attached labels are found and are not
dropped. In that case, <code>"values"</code> will be used.</p>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_factor.html">to_factor</a></span><span class="op">(</span><span class="va">v</span>, sort_levels <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] yes     2       2       2       no      refused yes     no      2      </span></span>
<span><span class="co">## [10] &lt;NA&gt;   </span></span>
<span><span class="co">## Levels: yes no don't know refused 2</span></span></code></pre>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_factor.html">to_factor</a></span><span class="op">(</span><span class="va">v</span>, sort_levels <span class="op">=</span> <span class="st">"v"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] yes     2       2       2       no      refused yes     no      2      </span></span>
<span><span class="co">## [10] &lt;NA&gt;   </span></span>
<span><span class="co">## Levels: yes 2 no don't know refused</span></span></code></pre>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_factor.html">to_factor</a></span><span class="op">(</span><span class="va">v</span>, sort_levels <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] yes     2       2       2       no      refused yes     no      2      </span></span>
<span><span class="co">## [10] &lt;NA&gt;   </span></span>
<span><span class="co">## Levels: 2 don't know no refused yes</span></span></code></pre>
<p>The function <code><a href="../reference/to_labelled.html">to_labelled()</a></code> could be used to turn a
factor into a labelled numeric vector.</p>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/to_labelled.html">to_labelled</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[3]&gt;</span></span>
<span><span class="co">## [1] 1 2 3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1     a</span></span>
<span><span class="co">##      2     b</span></span>
<span><span class="co">##      3     c</span></span></code></pre>
<p>Note that <code>to_labelled(to_factor(v))</code> will not be equal to
<code>v</code> due to the way factors are stored internally by
<strong>R</strong>.</p>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        yes</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      8 don't know</span></span>
<span><span class="co">##      9    refused</span></span></code></pre>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_labelled.html">to_labelled</a></span><span class="op">(</span><span class="fu"><a href="../reference/to_factor.html">to_factor</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  5  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        yes</span></span>
<span><span class="co">##      2          2</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      4 don't know</span></span>
<span><span class="co">##      5    refused</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="other-type-of-conversions">Other type of conversions<a class="anchor" aria-label="anchor" href="#other-type-of-conversions"></a>
</h2>
<p>You can use <code><a href="../reference/to_character.html">to_character()</a></code> for converting into a
character vector instead of a factor.</p>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[10]&gt;</span></span>
<span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        yes</span></span>
<span><span class="co">##      3         no</span></span>
<span><span class="co">##      8 don't know</span></span>
<span><span class="co">##      9    refused</span></span></code></pre>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_character.html">to_character</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "yes"     "2"       "2"       "2"       "no"      "refused" "yes"    </span></span>
<span><span class="co">##  [8] "no"      "2"       NA</span></span></code></pre>
<p>To remove the <code>haven_class</code>, you can simply use
<code><a href="https://rdrr.io/r/base/class.html" class="external-link">unclass()</a></code>.</p>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">unclass</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span>
<span><span class="co">## attr(,"labels")</span></span>
<span><span class="co">##        yes         no don't know    refused </span></span>
<span><span class="co">##          1          3          8          9</span></span></code></pre>
<p>Note that value labels will be preserved as an attribute to the
vector.</p>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/remove_labels.html">remove_val_labels</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span></code></pre>
<p>To remove value labels, use <code><a href="../reference/remove_labels.html">remove_val_labels()</a></code>.</p>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/remove_labels.html">remove_val_labels</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1]  1  2  2  2  3  9  1  3  2 NA</span></span></code></pre>
<p>Note that if your vector does have user-defined missing values, you
may also want to use <code><a href="../reference/remove_labels.html">remove_user_na()</a></code>.</p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">9</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/na_values.html">na_values</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">9</span></span>
<span><span class="fu"><a href="../reference/val_labels.html">val_labels</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>yes <span class="op">=</span> <span class="fl">1</span>, no <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/var_label.html">var_label</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"A test variable"</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled_spss&lt;double&gt;[4]&gt;: A test variable</span></span>
<span><span class="co">## [1] 1 2 2 9</span></span>
<span><span class="co">## Missing values: 9</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1   yes</span></span>
<span><span class="co">##      2    no</span></span></code></pre>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/remove_labels.html">remove_val_labels</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled_spss&lt;double&gt;[4]&gt;: A test variable</span></span>
<span><span class="co">## [1] 1 2 2 9</span></span>
<span><span class="co">## Missing values: 9</span></span></code></pre>
<div class="sourceCode" id="cb129"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/remove_labels.html">remove_user_na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[4]&gt;: A test variable</span></span>
<span><span class="co">## [1] 1 2 2 9</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1   yes</span></span>
<span><span class="co">##      2    no</span></span></code></pre>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/remove_labels.html">remove_user_na</a></span><span class="op">(</span><span class="va">x</span>, user_na_to_na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[4]&gt;: A test variable</span></span>
<span><span class="co">## [1]  1  2  2 NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1   yes</span></span>
<span><span class="co">##      2    no</span></span></code></pre>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/remove_labels.html">remove_val_labels</a></span><span class="op">(</span><span class="fu"><a href="../reference/remove_labels.html">remove_user_na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 2 2 9</span></span>
<span><span class="co">## attr(,"label")</span></span>
<span><span class="co">## [1] "A test variable"</span></span></code></pre>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">unclass</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 2 2 9</span></span>
<span><span class="co">## attr(,"labels")</span></span>
<span><span class="co">## yes  no </span></span>
<span><span class="co">##   1   2 </span></span>
<span><span class="co">## attr(,"na_values")</span></span>
<span><span class="co">## [1] 9</span></span>
<span><span class="co">## attr(,"label")</span></span>
<span><span class="co">## [1] "A test variable"</span></span></code></pre>
<p>You can remove all labels and user-defined missing values with
<code><a href="../reference/remove_labels.html">remove_labels()</a></code>. Use <code>keep_var_label = TRUE</code> to
preserve only variable label.</p>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/remove_labels.html">remove_labels</a></span><span class="op">(</span><span class="va">x</span>, user_na_to_na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1]  1  2  2 NA</span></span></code></pre>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/remove_labels.html">remove_labels</a></span><span class="op">(</span><span class="va">x</span>, user_na_to_na <span class="op">=</span> <span class="cn">TRUE</span>, keep_var_label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1]  1  2  2 NA</span></span>
<span><span class="co">## attr(,"label")</span></span>
<span><span class="co">## [1] "A test variable"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="unlabelled">Conditional conversion to factors<a class="anchor" aria-label="anchor" href="#unlabelled"></a>
</h2>
<p>For any analysis, it is the responsibility of user to identify which
labelled numeric vectors should be considered as
<strong>categorical</strong> (and therefore converted into factors using
<code><a href="../reference/to_factor.html">to_factor()</a></code>) and which variables should be treated as
<strong>continuous</strong> (and therefore unclassed into numeric using
<code><a href="https://rdrr.io/r/base/class.html" class="external-link">base::unclass()</a></code>).</p>
<p>It should be noted that most functions expect categorical variables
to be coded as factors. It includes most modeling functions (such as
<code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> or <code><a href="https://rdrr.io/r/stats/glm.html" class="external-link">stats::glm()</a></code>) or plotting
functions from <code>ggplot2</code>.</p>
<p>In most of cases, if data documentation was properly done,
categorical variables corresponds to vectors where all observed values
have a value label while vectors where only few values have a value
label should be considered as continuous.</p>
<p>In that situation, you could apply the <code><a href="../reference/to_factor.html">unlabelled()</a></code>
method to an overall data frame. By default, <code><a href="../reference/to_factor.html">unlabelled()</a></code>
works as follow:</p>
<ul>
<li>if a column doesn’t inherit the <code>haven_labelled</code> class,
it will be not affected;</li>
<li>if all observed values have a corresponding value label, the column
will be converted into a factor (using <code><a href="../reference/to_factor.html">to_factor()</a></code>);</li>
<li>otherwise, the column will be unclassed (and converted back to a
numeric or character vector by applying
<code><a href="https://rdrr.io/r/base/class.html" class="external-link">base::unclass()</a></code>).</li>
</ul>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  a <span class="op">=</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled.html" class="external-link">labelled</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>No <span class="op">=</span> <span class="fl">1</span>, Yes <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  b <span class="op">=</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled.html" class="external-link">labelled</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>No <span class="op">=</span> <span class="fl">1</span>, Yes <span class="op">=</span> <span class="fl">2</span>, DK <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  c <span class="op">=</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled.html" class="external-link">labelled</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>No <span class="op">=</span> <span class="fl">1</span>, Yes <span class="op">=</span> <span class="fl">2</span>, DK <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  d <span class="op">=</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled.html" class="external-link">labelled</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>No <span class="op">=</span> <span class="st">"a"</span>, Yes <span class="op">=</span> <span class="st">"b"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  e <span class="op">=</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/labelled_spss.html" class="external-link">labelled_spss</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">9</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>No <span class="op">=</span> <span class="fl">1</span>, Yes <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>    na_values <span class="op">=</span> <span class="fl">9</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/look_for.html">look_for</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  pos variable label col_type missing values </span></span>
<span><span class="co">##  1   a        —     dbl+lbl  0       [1] No </span></span>
<span><span class="co">##                                      [2] Yes</span></span>
<span><span class="co">##  2   b        —     dbl+lbl  0       [1] No </span></span>
<span><span class="co">##                                      [2] Yes</span></span>
<span><span class="co">##                                      [3] DK </span></span>
<span><span class="co">##  3   c        —     dbl+lbl  0       [1] No </span></span>
<span><span class="co">##                                      [2] Yes</span></span>
<span><span class="co">##                                      [3] DK </span></span>
<span><span class="co">##  4   d        —     chr+lbl  0       [a] No </span></span>
<span><span class="co">##                                      [b] Yes</span></span>
<span><span class="co">##  5   e        —     dbl+lbl  1       [1] No </span></span>
<span><span class="co">##                                      [2] Yes</span></span></code></pre>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_factor.html">unlabelled</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/look_for.html">look_for</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  pos variable label col_type missing values</span></span>
<span><span class="co">##  1   a        —     dbl      0             </span></span>
<span><span class="co">##  2   b        —     fct      0       No    </span></span>
<span><span class="co">##                                      Yes   </span></span>
<span><span class="co">##                                      DK    </span></span>
<span><span class="co">##  3   c        —     fct      0       No    </span></span>
<span><span class="co">##                                      Yes   </span></span>
<span><span class="co">##                                      DK    </span></span>
<span><span class="co">##  4   d        —     chr      0             </span></span>
<span><span class="co">##  5   e        —     fct      1       No    </span></span>
<span><span class="co">##                                      Yes</span></span></code></pre>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_factor.html">unlabelled</a></span><span class="op">(</span><span class="va">df</span>, user_na_to_na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/look_for.html">look_for</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  pos variable label col_type missing values</span></span>
<span><span class="co">##  1   a        —     dbl      0             </span></span>
<span><span class="co">##  2   b        —     fct      0       No    </span></span>
<span><span class="co">##                                      Yes   </span></span>
<span><span class="co">##                                      DK    </span></span>
<span><span class="co">##  3   c        —     fct      0       No    </span></span>
<span><span class="co">##                                      Yes   </span></span>
<span><span class="co">##                                      DK    </span></span>
<span><span class="co">##  4   d        —     chr      0             </span></span>
<span><span class="co">##  5   e        —     fct      1       No    </span></span>
<span><span class="co">##                                      Yes</span></span></code></pre>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/to_factor.html">unlabelled</a></span><span class="op">(</span><span class="va">df</span>, drop_unused_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/look_for.html">look_for</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  pos variable label col_type missing values</span></span>
<span><span class="co">##  1   a        —     dbl      0             </span></span>
<span><span class="co">##  2   b        —     fct      0       No    </span></span>
<span><span class="co">##                                      Yes   </span></span>
<span><span class="co">##                                      DK    </span></span>
<span><span class="co">##  3   c        —     fct      0       No    </span></span>
<span><span class="co">##                                      Yes   </span></span>
<span><span class="co">##  4   d        —     chr      0             </span></span>
<span><span class="co">##  5   e        —     fct      1       No    </span></span>
<span><span class="co">##                                      Yes</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="importing-labelled-data">Importing labelled data<a class="anchor" aria-label="anchor" href="#importing-labelled-data"></a>
</h2>
<p>In <strong>haven</strong> package, <code>read_spss</code>,
<code>read_stata</code> and <code>read_sas</code> are natively importing
data using the <code>labelled</code> class and the <code>label</code>
attribute for variable labels.</p>
<p>Functions from <strong>foreign</strong> package could also import
some metadata from <strong>SPSS</strong> and <strong>Stata</strong>
files. <code>to_labelled</code> can convert data imported with
<strong>foreign</strong> into a labelled data frame. However, there are
some limitations compared to using <strong>haven</strong>:</p>
<ul>
<li>For <strong>SPSS</strong> files, it will be better to set
<code>use.value.labels = FALSE</code>,
<code>to.data.frame = FALSE</code> and <code>use.missings = FALSE</code>
when calling <code>read.spss</code>. If
<code>use.value.labels = TRUE</code>, variable with value labels will be
converted into factors by <code>read.spss</code> (and kept as factors by
<code>foreign_to_label</code>). If <code>to.data.frame = TRUE</code>,
meta data describing the missing values will not be imported. If
<code>use.missings = TRUE</code>, missing values would have been
converted to <code>NA</code> by <code>read.spss</code>.</li>
<li>For <strong>Stata</strong> files, set
<code>convert.factors = FALSE</code> when calling <code>read.dta</code>
to avoid conversion of variables with value labels into factors. So far,
missing values defined in Stata are always imported as <code>NA</code>
by <code>read.dta</code> and could not be retrieved by
<code>foreign_to_labelled</code>.</li>
</ul>
<p>The <strong>memisc</strong> package provide functions to import
variable metadata and store them in specific object of class
<code>data.set</code>. The <code>to_labelled</code> method can convert a
data.set into a labelled data frame.</p>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># from foreign</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://svn.r-project.org/R-packages/trunk/foreign/" class="external-link">foreign</a></span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/to_labelled.html">to_labelled</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/foreign/man/read.spss.html" class="external-link">read.spss</a></span><span class="op">(</span></span>
<span>  <span class="st">"file.sav"</span>,</span>
<span>  to.data.frame <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use.value.labels <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  use.missings <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/to_labelled.html">to_labelled</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/foreign/man/read.dta.html" class="external-link">read.dta</a></span><span class="op">(</span></span>
<span>  <span class="st">"file.dta"</span>,</span>
<span>  convert.factors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># from memisc</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://melff.github.io/memisc/" class="external-link">memisc</a></span><span class="op">)</span></span>
<span><span class="va">nes1948.por</span> <span class="op">&lt;-</span> <span class="fu">UnZip</span><span class="op">(</span><span class="st">"anes/NES1948.ZIP"</span>, <span class="st">"NES1948.POR"</span>, package <span class="op">=</span> <span class="st">"memisc"</span><span class="op">)</span></span>
<span><span class="va">nes1948</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://melff.github.io/memisc/reference/importers.html" class="external-link">spss.portable.file</a></span><span class="op">(</span><span class="va">nes1948.por</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/to_labelled.html">to_labelled</a></span><span class="op">(</span><span class="va">nes1948</span><span class="op">)</span></span>
<span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://melff.github.io/memisc/reference/dataSets.html" class="external-link">as.data.set</a></span><span class="op">(</span><span class="va">nes19480</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/to_labelled.html">to_labelled</a></span><span class="op">(</span><span class="va">ds</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="using-labelled-with-dplyrmagrittr">Using labelled with dplyr/magrittr<a class="anchor" aria-label="anchor" href="#using-labelled-with-dplyrmagrittr"></a>
</h2>
<p>If you are using the <code>%&gt;%</code> operator, you can use the
functions <code><a href="../reference/var_label.html">set_variable_labels()</a></code>,
<code><a href="../reference/val_labels.html">set_value_labels()</a></code>, <code><a href="../reference/val_labels.html">add_value_labels()</a></code> and
<code><a href="../reference/val_labels.html">remove_value_labels()</a></code>.</p>
<div class="sourceCode" id="cb150"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'dplyr'</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:stats':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     filter, lag</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:base':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     intersect, setdiff, setequal, union</span></span></code></pre>
<div class="sourceCode" id="cb154"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>s1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M"</span>, <span class="st">"M"</span>, <span class="st">"F"</span><span class="op">)</span>, s2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/var_label.html">set_variable_labels</a></span><span class="op">(</span>s1 <span class="op">=</span> <span class="st">"Sex"</span>, s2 <span class="op">=</span> <span class="st">"Question"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/val_labels.html">set_value_labels</a></span><span class="op">(</span>s1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>Male <span class="op">=</span> <span class="st">"M"</span>, Female <span class="op">=</span> <span class="st">"F"</span><span class="op">)</span>, s2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>Yes <span class="op">=</span> <span class="fl">1</span>, No <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">s2</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[3]&gt;: Question</span></span>
<span><span class="co">## [1] 1 1 2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1   Yes</span></span>
<span><span class="co">##      2    No</span></span></code></pre>
<p><code><a href="../reference/val_labels.html">set_value_labels()</a></code> will replace the list of value labels
while <code><a href="../reference/val_labels.html">add_value_labels()</a></code> will update it.</p>
<div class="sourceCode" id="cb156"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/val_labels.html">set_value_labels</a></span><span class="op">(</span>s2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>Yes <span class="op">=</span> <span class="fl">1</span>, <span class="st">"Don't know"</span> <span class="op">=</span> <span class="fl">8</span>, Unknown <span class="op">=</span> <span class="fl">9</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">s2</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[3]&gt;: Question</span></span>
<span><span class="co">## [1] 1 1 2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        Yes</span></span>
<span><span class="co">##      8 Don't know</span></span>
<span><span class="co">##      9    Unknown</span></span></code></pre>
<div class="sourceCode" id="cb158"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/val_labels.html">add_value_labels</a></span><span class="op">(</span>s2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>No <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">s2</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[3]&gt;: Question</span></span>
<span><span class="co">## [1] 1 1 2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        Yes</span></span>
<span><span class="co">##      8 Don't know</span></span>
<span><span class="co">##      9    Unknown</span></span>
<span><span class="co">##      2         No</span></span></code></pre>
<p>You can also remove some variable and/or value labels.</p>
<div class="sourceCode" id="cb160"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/var_label.html">set_variable_labels</a></span><span class="op">(</span>s1 <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># removing one value label</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/val_labels.html">remove_value_labels</a></span><span class="op">(</span>s2 <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">s2</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[3]&gt;: Question</span></span>
<span><span class="co">## [1] 1 1 2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value      label</span></span>
<span><span class="co">##      1        Yes</span></span>
<span><span class="co">##      8 Don't know</span></span>
<span><span class="co">##      9    Unknown</span></span></code></pre>
<div class="sourceCode" id="cb162"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># removing several value labels</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/val_labels.html">remove_value_labels</a></span><span class="op">(</span>s2 <span class="op">=</span> <span class="fl">8</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">s2</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;labelled&lt;double&gt;[3]&gt;: Question</span></span>
<span><span class="co">## [1] 1 1 2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Labels:</span></span>
<span><span class="co">##  value label</span></span>
<span><span class="co">##      1   Yes</span></span></code></pre>
<div class="sourceCode" id="cb164"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># removing all value labels</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/val_labels.html">set_value_labels</a></span><span class="op">(</span>s2 <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">s2</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1 1 2</span></span>
<span><span class="co">## attr(,"label")</span></span>
<span><span class="co">## [1] "Question"</span></span></code></pre>
<p>To convert variables, the easiest is to use
<code><a href="../reference/to_factor.html">unlabelled()</a></code>.</p>
<div class="sourceCode" id="cb166"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://juba.github.io/questionr/" class="external-link">questionr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">fertility</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">women</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 2,000</span></span>
<span><span class="co">## Columns: 17</span></span>
<span><span class="co">## $ id_woman          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 391, 1643, 85, 881, 1981, 1072, 1978, 1607, 738, 165…</span></span>
<span><span class="co">## $ id_household      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 381, 1515, 85, 844, 1797, 1015, 1794, 1486, 711, 152…</span></span>
<span><span class="co">## $ weight            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.803150, 1.803150, 1.803150, 1.803150, 1.803150, 0.…</span></span>
<span><span class="co">## $ interview_date    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2012-05-05, 2012-01-23, 2012-01-21, 2012-01-06, 201…</span></span>
<span><span class="co">## $ date_of_birth     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 1997-03-07, 1982-01-06, 1979-01-01, 1968-03-29, 198…</span></span>
<span><span class="co">## $ age               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 15, 30, 33, 43, 25, 18, 45, 23, 49, 31, 26, 45, 25, …</span></span>
<span><span class="co">## $ residency         <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span></span>
<span><span class="co">## $ region            <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, …</span></span>
<span><span class="co">## $ instruction       <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 2, 1, 0, …</span></span>
<span><span class="co">## $ employed          <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 1, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">## $ matri             <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 0, 2, 2, 2, 1, 0, 1, 1, 2, 5, 2, 3, 0, 2, 1, 2, …</span></span>
<span><span class="co">## $ religion          <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 1, 3, 2, 3, 2, 2, 3, 1, 3, 3, 2, 3, 2, 2, 2, 2, …</span></span>
<span><span class="co">## $ newspaper         <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, …</span></span>
<span><span class="co">## $ radio             <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, …</span></span>
<span><span class="co">## $ tv                <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, …</span></span>
<span><span class="co">## $ ideal_nb_children <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span>  4,  4,  4,  4,  4,  5, 10,  5,  4,  5,  6, 10, …</span></span>
<span><span class="co">## $ test              <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 0, <span style="color: #BB0000;">9</span>, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, …</span></span></code></pre>
<div class="sourceCode" id="cb168"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">women</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/to_factor.html">unlabelled</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 2,000</span></span>
<span><span class="co">## Columns: 17</span></span>
<span><span class="co">## $ id_woman          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 391, 1643, 85, 881, 1981, 1072, 1978, 1607, 738, 165…</span></span>
<span><span class="co">## $ id_household      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 381, 1515, 85, 844, 1797, 1015, 1794, 1486, 711, 152…</span></span>
<span><span class="co">## $ weight            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.803150, 1.803150, 1.803150, 1.803150, 1.803150, 0.…</span></span>
<span><span class="co">## $ interview_date    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2012-05-05, 2012-01-23, 2012-01-21, 2012-01-06, 201…</span></span>
<span><span class="co">## $ date_of_birth     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 1997-03-07, 1982-01-06, 1979-01-01, 1968-03-29, 198…</span></span>
<span><span class="co">## $ age               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 15, 30, 33, 43, 25, 18, 45, 23, 49, 31, 26, 45, 25, …</span></span>
<span><span class="co">## $ residency         <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> rural, rural, rural, rural, rural, rural, rural, rur…</span></span>
<span><span class="co">## $ region            <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> West, West, West, West, West, South, South, South, S…</span></span>
<span><span class="co">## $ instruction       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> none, none, none, none, primary, none, none, none, n…</span></span>
<span><span class="co">## $ employed          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> yes, yes, no, yes, yes, no, yes, no, yes, yes, yes, …</span></span>
<span><span class="co">## $ matri             <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> single, living together, living together, living tog…</span></span>
<span><span class="co">## $ religion          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> Muslim, Protestant, Christian, Protestant, Christian…</span></span>
<span><span class="co">## $ newspaper         <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> no, no, no, no, no, no, no, no, no, no, no, no, no, …</span></span>
<span><span class="co">## $ radio             <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> no, yes, yes, no, no, yes, yes, no, no, no, yes, yes…</span></span>
<span><span class="co">## $ tv                <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> no, no, no, no, no, yes, no, no, no, no, yes, yes, n…</span></span>
<span><span class="co">## $ ideal_nb_children <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 4, 4, 4, 4, 4, 5, 10, 5, 4, 5, 6, 10, 2, 6, 6, 6, 4,…</span></span>
<span><span class="co">## $ test              <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> no, missing, no, no, yes, no, no, no, no, yes, yes, …</span></span></code></pre>
<p>Alternatively, you can use functions as <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code>
+ <code><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">dplyr::across()</a></code>. See the example below.</p>
<div class="sourceCode" id="cb170"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="fu"><a href="../reference/to_factor.html">to_factor</a></span><span class="op">(</span><span class="va">women</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 2,000</span></span>
<span><span class="co">## Columns: 17</span></span>
<span><span class="co">## $ id_woman          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 391, 1643, 85, 881, 1981, 1072, 1978, 1607, 738, 165…</span></span>
<span><span class="co">## $ id_household      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 381, 1515, 85, 844, 1797, 1015, 1794, 1486, 711, 152…</span></span>
<span><span class="co">## $ weight            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.803150, 1.803150, 1.803150, 1.803150, 1.803150, 0.…</span></span>
<span><span class="co">## $ interview_date    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2012-05-05, 2012-01-23, 2012-01-21, 2012-01-06, 201…</span></span>
<span><span class="co">## $ date_of_birth     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 1997-03-07, 1982-01-06, 1979-01-01, 1968-03-29, 198…</span></span>
<span><span class="co">## $ age               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 15, 30, 33, 43, 25, 18, 45, 23, 49, 31, 26, 45, 25, …</span></span>
<span><span class="co">## $ residency         <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> rural, rural, rural, rural, rural, rural, rural, rur…</span></span>
<span><span class="co">## $ region            <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> West, West, West, West, West, South, South, South, S…</span></span>
<span><span class="co">## $ instruction       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> none, none, none, none, primary, none, none, none, n…</span></span>
<span><span class="co">## $ employed          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> yes, yes, no, yes, yes, no, yes, no, yes, yes, yes, …</span></span>
<span><span class="co">## $ matri             <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> single, living together, living together, living tog…</span></span>
<span><span class="co">## $ religion          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> Muslim, Protestant, Christian, Protestant, Christian…</span></span>
<span><span class="co">## $ newspaper         <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> no, no, no, no, no, no, no, no, no, no, no, no, no, …</span></span>
<span><span class="co">## $ radio             <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> no, yes, yes, no, no, yes, yes, no, no, no, yes, yes…</span></span>
<span><span class="co">## $ tv                <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> no, no, no, no, no, yes, no, no, no, no, yes, yes, n…</span></span>
<span><span class="co">## $ ideal_nb_children <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> 4, 4, 4, 4, 4, 5, 10, 5, 4, 5, 6, 10, 2, 6, 6, 6, 4,…</span></span>
<span><span class="co">## $ test              <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> no, missing, no, no, yes, no, no, no, no, yes, yes, …</span></span></code></pre>
<div class="sourceCode" id="cb172"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">women</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/where.html" class="external-link">where</a></span><span class="op">(</span><span class="va">is.labelled</span><span class="op">)</span>, <span class="va">to_factor</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 2,000</span></span>
<span><span class="co">## Columns: 17</span></span>
<span><span class="co">## $ id_woman          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 391, 1643, 85, 881, 1981, 1072, 1978, 1607, 738, 165…</span></span>
<span><span class="co">## $ id_household      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 381, 1515, 85, 844, 1797, 1015, 1794, 1486, 711, 152…</span></span>
<span><span class="co">## $ weight            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.803150, 1.803150, 1.803150, 1.803150, 1.803150, 0.…</span></span>
<span><span class="co">## $ interview_date    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2012-05-05, 2012-01-23, 2012-01-21, 2012-01-06, 201…</span></span>
<span><span class="co">## $ date_of_birth     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 1997-03-07, 1982-01-06, 1979-01-01, 1968-03-29, 198…</span></span>
<span><span class="co">## $ age               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 15, 30, 33, 43, 25, 18, 45, 23, 49, 31, 26, 45, 25, …</span></span>
<span><span class="co">## $ residency         <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> rural, rural, rural, rural, rural, rural, rural, rur…</span></span>
<span><span class="co">## $ region            <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> West, West, West, West, West, South, South, South, S…</span></span>
<span><span class="co">## $ instruction       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> none, none, none, none, primary, none, none, none, n…</span></span>
<span><span class="co">## $ employed          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> yes, yes, no, yes, yes, no, yes, no, yes, yes, yes, …</span></span>
<span><span class="co">## $ matri             <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> single, living together, living together, living tog…</span></span>
<span><span class="co">## $ religion          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> Muslim, Protestant, Christian, Protestant, Christian…</span></span>
<span><span class="co">## $ newspaper         <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> no, no, no, no, no, no, no, no, no, no, no, no, no, …</span></span>
<span><span class="co">## $ radio             <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> no, yes, yes, no, no, yes, yes, no, no, no, yes, yes…</span></span>
<span><span class="co">## $ tv                <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> no, no, no, no, no, yes, no, no, no, no, yes, yes, n…</span></span>
<span><span class="co">## $ ideal_nb_children <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> 4, 4, 4, 4, 4, 5, 10, 5, 4, 5, 6, 10, 2, 6, 6, 6, 4,…</span></span>
<span><span class="co">## $ test              <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> no, missing, no, no, yes, no, no, no, no, yes, yes, …</span></span></code></pre>
<div class="sourceCode" id="cb174"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">women</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="va">employed</span><span class="op">:</span><span class="va">religion</span>, <span class="va">to_factor</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 2,000</span></span>
<span><span class="co">## Columns: 17</span></span>
<span><span class="co">## $ id_woman          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 391, 1643, 85, 881, 1981, 1072, 1978, 1607, 738, 165…</span></span>
<span><span class="co">## $ id_household      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 381, 1515, 85, 844, 1797, 1015, 1794, 1486, 711, 152…</span></span>
<span><span class="co">## $ weight            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.803150, 1.803150, 1.803150, 1.803150, 1.803150, 0.…</span></span>
<span><span class="co">## $ interview_date    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2012-05-05, 2012-01-23, 2012-01-21, 2012-01-06, 201…</span></span>
<span><span class="co">## $ date_of_birth     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 1997-03-07, 1982-01-06, 1979-01-01, 1968-03-29, 198…</span></span>
<span><span class="co">## $ age               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 15, 30, 33, 43, 25, 18, 45, 23, 49, 31, 26, 45, 25, …</span></span>
<span><span class="co">## $ residency         <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span></span>
<span><span class="co">## $ region            <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, …</span></span>
<span><span class="co">## $ instruction       <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 2, 1, 0, …</span></span>
<span><span class="co">## $ employed          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> yes, yes, no, yes, yes, no, yes, no, yes, yes, yes, …</span></span>
<span><span class="co">## $ matri             <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> single, living together, living together, living tog…</span></span>
<span><span class="co">## $ religion          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> Muslim, Protestant, Christian, Protestant, Christian…</span></span>
<span><span class="co">## $ newspaper         <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, …</span></span>
<span><span class="co">## $ radio             <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, …</span></span>
<span><span class="co">## $ tv                <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, …</span></span>
<span><span class="co">## $ ideal_nb_children <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span>  4,  4,  4,  4,  4,  5, 10,  5,  4,  5,  6, 10, …</span></span>
<span><span class="co">## $ test              <span style="color: #949494; font-style: italic;">&lt;dbl+lbl&gt;</span> 0, <span style="color: #BB0000;">9</span>, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, …</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joseph Larmarange.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
